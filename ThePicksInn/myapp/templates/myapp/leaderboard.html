{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- add tailwind css link here -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/
  libs/tailwindcss/2.2.7/tailwind.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/
  libs/font-awesome/5.15.4/css/all.min.css" />
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="{% static '/css/style.css' %}" />
  <link rel="shortcut icon" href="assets/images/favicon.png" type="image/x-icon" />
  <link rel="stylesheet" href="assets/css/swiper-bundle.min.css" />
  <link rel="stylesheet" href="assets/css/animate.css" />
  <link rel="stylesheet" href="assets/css/tailwind.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1"></script>

  <title>The Picks Inn- Leaderboard</title>
</head>

<body>

<div
class="bg-[#090E34] w-full h-full flex flex-col"
>

<!-- =============================================== -->
  <!-- Navbar Section Start -->
  <nav class="neumorphism-table sticky top-0 grid grid-cols-2 justify-around items-center p-4 bg-[#090E34] shadow-xl
  z-50
  ">
    <!-- Logo -->
    <div id="logo">
      <h1 class="text-2xl font-bold text-white ml-8">The Picks Inn</h1>
    </div>

    <!-- Navbar Links -->
    <div id="navbarLinks">
      <ul class="md:flex md:space-x-12 md:text-white md:font-semibold hidden">
        <li>
          <a href="#home"> Home </a>
        </li>
        <li>
          <a href="#scouting-performance"> Scouting Performance </a>
        </li>
        <li>
          <a href="#top20"> Actual Top 20 </a>
        </li>
        <li>
          <a href="#leaderboard"> Leaderboard </a>
        </li>
      </ul>
    </div>
  </nav>
  <!-- Navbar Section End -->
  <!-- =============================================== -->

    <!-- =============================================== -->
  <!-- Leaderboard Start -->
  <section class="w-full h-full bg-[#090E34] flex flex-col items-center justify-center gap-8 mb-32 px-20" id="leaderboard">
    <h2 class="text-4xl font-semibold text-white text-center mt-24 ">Leaderboard</h2>

    <p class="text-center text-gray-400">
      Compare your board against the professionals
    </p>

    <!-- Dropdown for Draft Year -->
    <div>
      <label for="draftYear" class="text-white mr-2">Select Draft Year:</label>
      <select id="draftYear" name="draftYear" class="px-12 py-2 rounded-md border" >
        <option value=" 2021" selected>2021</option>
        <option value="2022">2022</option>
        <option value="2023" >2023</option>
      </select>
    </div>

    <!-- Search Bar to search the player by username -->
    <div class="relative">
      <input
        type="text"
        class="bg-transparent w-full h-10 pl-3 pr-10 text-sm rounded-md border border-gray-300"
        placeholder="Search by Username"
      />
      <button class="absolute top-0 right-0 px-3 py-2">
        <i class="fas fa-search text-gray-400"></i>
      </button>
    </div>

    <!-- Table -->
    <table class="w-full neumorphism-table">
      <!-- Table Header -->
      <thead class="border-b border-gray-300">
        <tr>
          <th class="py-2 px-4 text-left">Draft Year</th>
          <th class="py-2 px-4 text-left">Rank</th>
          <th class="py-2 px-4 text-left">Username</th>
          <th class="py-2 px-4 text-left">Picks Correct</th>
          <th class="py-2 px-4 text-left">Accuracy</th>
          <th class="py-2 px-4 text-left">Sum PER</th>
          <th class="py-2 px-4 text-left">PER%</th>
        </tr>
      </thead>

            <!-- Table Body -->
      {% if data2 %}
      <tbody>
        {% for player in data2 %}
        <tr class="border-b border-gray-300">
          <td class="py-2 px-4">2023</td>
          <td class="py-2 px-4">{{ player.rank }}</td>
          <td class="py-2 px-4">{{ player.Username }}</td>
          <td class="py-2 px-4">{{ player.correct_picks_count }}</td>
          <td class="py-2 px-4">{{ player.accuracy }}</td>
          <td class="py-2 px-4">{{ player.sum_per_user_submitted }}</td>
          <td class="py-2 px-4">{{ player.per_percentage }}</td>
        </tr>
        {% endfor %}

      </tbody>
      {% else %}
      <p>Error fetching data from the API. Status code: {{ status_code }}</p>
      {% endif %}
    </table>
  </section>
  <!-- Leaderboard End -->
  <!-- =============================================== -->

</div>
</body>
</html>





